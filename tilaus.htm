<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <title>Tilaus – Rantamäen perheyhtye</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" content="Tilaa Rantamäen perheyhtyeen äänitteitä ja nuotteja – Ollaan suomalaisii, Sanoin ja sävelin, Joululauluja, Lauluja elämälle, Rakasta kärsi ja unhoita, Muistojen taikaa.">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="order-page">

    <!-- Levyjen galleria -->
    <section class="order-gallery">
      <h2>Äänitteet ja nuotit</h2>
      <div class="album-grid">
        <figure class="album-card">
          <img src="Kuvat/vedos.jpg" alt="Ollaan suomalaisii">
          <figcaption>Ollaan suomalaisii</figcaption>
        </figure>

        <figure class="album-card">
          <img src="Kuvat/MuistojenTaikaa.jpg" alt="Muistojen taikaa">
          <figcaption>Muistojen taikaa</figcaption>
        </figure>

        <!-- Voit lisätä tähän lisää levyjen kansia samalla tyylillä -->
      </div>
    </section>

    <section class="order-intro">
      <h1>Tilauslomake</h1>
      <p>
        Voit tilata Rantamäen perheyhtyeen äänitteitä ja nuotteja alla olevalla lomakkeella.
        Kun painat <strong>Lähetä tilaus</strong>, tilaus lähetetään palvelimen kautta
        käsiteltäväksi, eikä erillistä sähköpostiohjelmaa tarvita.
      </p>
      <p>
        Laskemme tilauksesi ja lähetämme maksuohjeen sekä tilausvahvistuksen
        antamaasi sähköpostiosoitteeseen. Hintoihin lisätään postikulut
        lähetyksen painon mukaan.
      </p>
    </section>

    <!-- Formspree-lomake -->
    <form class="order-form"
          action="https://formspree.io/f/mdkqdpbg"
          method="POST">

      <!-- Asetetaan sähköpostin otsikko -->
      <input type="hidden" name="_subject" value="Rantamäen perheyhtyeen tilaus">

      <fieldset class="order-fieldset">
        <legend>Yhteystiedot</legend>

        <div class="field-row">
          <label for="nimi">Nimi</label>
          <input type="text" id="nimi" name="Nimi" required>
        </div>

        <div class="field-row">
          <label for="osoite">Osoite</label>
          <input type="text" id="osoite" name="Osoite" required>
        </div>

        <div class="field-row">
          <label for="posti">Postinumero ja -toimipaikka</label>
          <input type="text" id="posti" name="Postinumero ja -toimipaikka" required>
        </div>

        <div class="field-row">
          <label for="email">Sähköposti</label>
          <!-- Formspree tunnistaa nimen "email" vastaukseksi -->
          <input type="email" id="email" name="email" required>
        </div>

        <div class="field-row">
          <label for="puhelin">Puhelin</label>
          <input type="text" id="puhelin" name="Puhelin">
        </div>
      </fieldset>

      <fieldset class="order-fieldset">
        <legend>Tilattavat tuotteet</legend>

        <!-- Yksi tuoterivi = yksi formaatti, jotta hinnat selkeitä summaa varten -->

        <div class="product-row">
          <div class="product-info">
            <div class="product-title">Ollaan suomalaisii – CD</div>
            <div class="product-note">20 € / kpl</div>
          </div>
          <div class="product-controls">
            <label>
              Määrä
              <select class="product-qty" name="Ollaan suomalaisii – CD kpl" data-price="20">
                <option value="0">0</option>
                <option>1</option><option>2</option><option>3</option>
                <option>4</option><option>5</option>
              </select>
            </label>
          </div>
        </div>

        <div class="product-row">
          <div class="product-info">
            <div class="product-title">Sanoin ja sävelin – CD</div>
            <div class="product-note">15 € / kpl</div>
          </div>
          <div class="product-controls">
            <label>
              Määrä
              <select class="product-qty" name="Sanoin ja sävelin – CD kpl" data-price="15">
                <option value="0">0</option>
                <option>1</option><option>2</option><option>3</option>
                <option>4</option><option>5</option>
              </select>
            </label>
          </div>
        </div>

        <div class="product-row">
          <div class="product-info">
            <div class="product-title">Sanoin ja sävelin – kasetti</div>
            <div class="product-note">10 € / kpl</div>
          </div>
          <div class="product-controls">
            <label>
              Määrä
              <select class="product-qty" name="Sanoin ja sävelin – kasetti kpl" data-price="10">
                <option value="0">0</option>
                <option>1</option><option>2</option><option>3</option>
                <option>4</option><option>5</option>
              </select>
            </label>
          </div>
        </div>

        <div class="product-row">
          <div class="product-info">
            <div class="product-title">Sanoin ja sävelin I–III – nuottikirja</div>
            <div class="product-note">20 € / kpl</div>
          </div>
          <div class="product-controls">
            <label>
              Määrä
              <select class="product-qty" name="Sanoin ja sävelin I–III – nuottikirja kpl" data-price="20">
                <option value="0">0</option>
                <option>1</option><option>2</option><option>3</option>
                <option>4</option><option>5</option>
              </select>
            </label>
          </div>
        </div>

        <div class="product-row">
          <div class="product-info">
            <div class="product-title">Joululauluja – CD</div>
            <div class="product-note">15 € / kpl</div>
          </div>
          <div class="product-controls">
            <label>
              Määrä
              <select class="product-qty" name="Joululauluja – CD kpl" data-price="15">
                <option value="0">0</option>
                <option>1</option><option>2</option><option>3</option>
                <option>4</option><option>5</option>
              </select>
            </label>
          </div>
        </div>

        <div class="product-row">
          <div class="product-info">
            <div class="product-title">Joululauluja – kasetti</div>
            <div class="product-note">10 € / kpl</div>
          </div>
          <div class="product-controls">
            <label>
              Määrä
              <select class="product-qty" name="Joululauluja – kasetti kpl" data-price="10">
                <option value="0">0</option>
                <option>1</option><option>2</option><option>3</option>
                <option>4</option><option>5</option>
              </select>
            </label>
          </div>
        </div>

        <div class="product-row">
          <div class="product-info">
            <div class="product-title">Joululauluja – nuottivihko</div>
            <div class="product-note">6 € / kpl</div>
          </div>
          <div class="product-controls">
            <label>
              Määrä
              <select class="product-qty" name="Joululauluja – nuottivihko kpl" data-price="6">
                <option value="0">0</option>
                <option>1</option><option>2</option><option>3</option>
                <option>4</option><option>5</option>
              </select>
            </label>
          </div>
        </div>

        <div class="product-row">
          <div class="product-info">
            <div class="product-title">Lauluja elämälle – kasetti</div>
            <div class="product-note">10 € / kpl</div>
          </div>
          <div class="product-controls">
            <label>
              Määrä
              <select class="product-qty" name="Lauluja elämälle – kasetti kpl" data-price="10">
                <option value="0">0</option>
                <option>1</option><option>2</option><option>3</option>
                <option>4</option><option>5</option>
              </select>
            </label>
          </div>
        </div>

        <div class="product-row">
          <div class="product-info">
            <div class="product-title">Rakasta, kärsi ja unhoita – kasetti</div>
            <div class="product-note">6 € / kpl</div>
          </div>
          <div class="product-controls">
            <label>
              Määrä
              <select class="product-qty" name="Rakasta, kärsi ja unhoita – kasetti kpl" data-price="6">
                <option value="0">0</option>
                <option>1</option><option>2</option><option>3</option>
                <option>4</option><option>5</option>
              </select>
            </label>
          </div>
        </div>

        <div class="product-row">
          <div class="product-info">
            <div class="product-title">Muistojen taikaa – CD</div>
            <div class="product-note">20 € / kpl</div>
          </div>
          <div class="product-controls">
            <label>
              Määrä
              <select class="product-qty" name="Muistojen taikaa – CD kpl" data-price="20">
                <option value="0">0</option>
                <option>1</option><option>2</option><option>3</option>
                <option>4</option><option>5</option>
              </select>
            </label>
          </div>
        </div>

      </fieldset>

      <fieldset class="order-fieldset">
        <legend>Kommentit ja lisätiedot</legend>
        <textarea name="Lisätiedot" rows="4" placeholder="Esimerkiksi toivomasi toimitustapa tai muu viesti meille."></textarea>
      </fieldset>

      <div class="order-total-box">
        <strong>Tilauksen arvioitu summa:</strong>
        <span id="order-total">0 €</span>
        <div class="order-total-note">
          (Summassa ei ole mukana postikuluja. Lopullinen lasku vahvistetaan erikseen.)
        </div>
      </div>

      <div class="order-actions">
        <button type="submit">Lähetä tilaus</button>
        <button type="reset" class="secondary">Tyhjennä lomake</button>
      </div>

      <p class="order-note">
        Huom! Lähetyksen jälkeen näytetään palvelun kuittaus, ja me käsittelemme tilauksen
        ja vastaamme sinulle sähköpostitse.
      </p>
    </form>
  </main>

  <script>
    function paivitaSumma() {
      var total = 0;
      var selects = document.querySelectorAll('.product-qty');
      selects.forEach(function (sel) {
        var kpl = parseInt(sel.value, 10) || 0;
        var hinta = parseFloat(sel.getAttribute('data-price')) || 0;
        total += kpl * hinta;
      });
      document.getElementById('order-total').textContent =
        total.toFixed(2).replace('.00', '') + ' €';
    }

    document.addEventListener('DOMContentLoaded', function () {
      document.querySelectorAll('.product-qty').forEach(function (sel) {
        sel.addEventListener('change', paivitaSumma);
      });
      paivitaSumma();
    });
  </script>
</body>
</html>
